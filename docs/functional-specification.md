# 기능 명세서 (Functional Specification)

## 📋 문서 정보
- **프로젝트명**: 통합 여행 쇼핑몰
- **버전**: 1.0
- **작성일**: 2025-09-16
- **최종 수정일**: 2025-09-16

---

## 🎯 1. 사용자 관리 시스템

### 1.1 회원가입 기능
**기능 ID**: F001
**우선순위**: High
**설명**: 새로운 사용자가 시스템에 계정을 생성하는 기능

#### 상세 기능
- **입력 항목**: 이메일, 비밀번호, 비밀번호 확인, 이름, 전화번호, 주소
- **필수 항목**: 이메일, 비밀번호, 이름
- **선택 항목**: 전화번호, 주소
- **유효성 검사**:
  - 이메일 형식 검증
  - 비밀번호 강도 검증 (8자 이상, 영문+숫자+특수문자)
  - 이메일 중복 검사
  - 전화번호 형식 검증

#### 처리 흐름
1. 사용자가 회원가입 폼 입력
2. 클라이언트 측 유효성 검사 수행
3. 서버 측 중복 검사 및 유효성 검사
4. 비밀번호 암호화 후 DB 저장
5. 회원가입 완료 메시지 표시

#### 예외 처리
- 이메일 중복 시: "이미 가입된 이메일입니다"
- 비밀번호 불일치 시: "비밀번호가 일치하지 않습니다"
- 서버 오류 시: "잠시 후 다시 시도해주세요"

### 1.2 로그인 기능
**기능 ID**: F002
**우선순위**: High
**설명**: 등록된 사용자가 시스템에 인증하여 접근하는 기능

#### 상세 기능
- **입력 항목**: 이메일, 비밀번호
- **인증 방식**: Session 기반 인증
- **세션 유지**: 30분 (비활성 시 자동 로그아웃)
- **보안**: CSRF 토큰 적용

#### 처리 흐름
1. 사용자가 로그인 폼 입력
2. 서버에서 이메일/비밀번호 검증
3. 인증 성공 시 세션 생성
4. 메인 페이지로 리다이렉트

#### 예외 처리
- 계정 없음: "등록되지 않은 이메일입니다"
- 비밀번호 오류: "비밀번호가 일치하지 않습니다"
- 5회 실패 시: 30분 계정 잠금

### 1.3 사용자 권한 관리
**기능 ID**: F003
**우선순위**: High
**설명**: 사용자 역할에 따른 접근 권한 제어

#### 권한 레벨
- **ADMIN**: 모든 기능 접근 가능
- **USER**: 일반 쇼핑 기능만 접근 가능

#### 접근 제어
- 관리자 페이지: ADMIN 권한 필요
- 상품 등록/수정/삭제: ADMIN 권한 필요
- 주문 조회/결제: 로그인 사용자만 가능

---

## 🛍 2. 상품 관리 시스템

### 2.1 상품 조회 기능
**기능 ID**: F101
**우선순위**: High
**설명**: 등록된 상품을 조회하는 기능

#### 상세 기능
- **상품 리스트**: 페이징 처리 (20개씩)
- **상품 상세보기**: 이미지, 설명, 가격, 재고 정보
- **이미지 갤러리**: 다중 이미지 지원
- **관련 상품 추천**: 카테고리 기반

#### 표시 정보
- 상품명, 가격, 대표 이미지
- 카테고리, 재고 상태
- 등록일, 조회수

### 2.2 상품 검색 및 필터링
**기능 ID**: F102
**우선순위**: High
**설명**: 상품을 검색하고 조건에 따라 필터링하는 기능

#### 검색 기능
- **키워드 검색**: 상품명, 설명에서 검색
- **자동완성**: 인기 검색어 제안
- **검색 기록**: 최근 검색어 저장

#### 필터링 옵션
- **카테고리**: 국내여행, 해외여행, 액티비티 등
- **가격대**: 구간별 필터링
- **정렬**: 인기순, 가격순, 최신순

### 2.3 상품 관리 (관리자)
**기능 ID**: F103
**우선순위**: High
**설명**: 관리자가 상품을 등록/수정/삭제하는 기능

#### 관리자 상품 관리 UI
- **상품 리스트 페이지**: 등록된 모든 상품을 테이블 형태로 조회
  - 상품명, 가격, 카테고리, 재고, 등록일, 상태 표시
  - 검색 및 필터링 기능 (카테고리별, 상태별)
  - 페이징 처리 (관리용 50개씩)
  - 일괄 선택 및 삭제 기능
- **상품 상세 페이지**: 상품의 모든 정보를 상세히 조회
  - 상품 정보, 이미지, 주문 통계, 리뷰 요약
  - 편집 및 삭제 버튼

#### CRUD 기능
- **Create**: 새 상품 등록
  - 상품 등록 폼 (다단계 마법사 형태)
  - 실시간 미리보기 기능
- **Read**: 상품 조회 및 목록
  - 관리자용 상품 리스트 (편집/삭제 버튼 포함)
  - 상품별 판매 통계 표시
- **Update**: 상품 정보 수정
  - 기존 정보 자동 로드
  - 이미지 추가/삭제/순서 변경
- **Delete**: 상품 삭제 (Soft Delete)
  - 삭제 확인 다이얼로그
  - 삭제된 상품 복원 기능

#### 상품 등록/편집 항목
- **기본 정보**: 상품명, 설명, 가격, 카테고리
- **이미지**: 업로드 (최대 5개, 드래그앤드롭 지원)
- **재고 관리**: 재고 수량, 재고 알림 설정
- **판매 설정**: 판매 상태, 할인 설정, 노출 순서

---

## 🛒 3. 주문 및 결제 시스템

### 3.1 장바구니 기능
**기능 ID**: F201
**우선순위**: High
**설명**: 구매 예정 상품을 임시 저장하는 기능

#### 상세 기능
- **상품 추가**: 상품 상세페이지에서 장바구니 담기
- **수량 조절**: 상품별 수량 증가/감소
- **상품 삭제**: 개별 또는 전체 삭제
- **가격 계산**: 실시간 총액 계산

#### 저장 방식
- **로그인 사용자**: DB에 영구 저장
- **비로그인 사용자**: LocalStorage에 임시 저장

### 3.2 주문 처리 기능
**기능 ID**: F202
**우선순위**: High
**설명**: 장바구니 상품을 주문으로 변환하는 기능

#### 상세 구매 흐름
1. **장바구니 확인 단계**
   - 장바구니 상품 목록 및 수량 확인
   - 상품별 가격 및 총 금액 계산
   - 품절 상품 확인 및 알림
   - 수량 변경 및 상품 삭제 가능

2. **주문자 정보 입력 단계**
   - 배송지 정보 입력/선택 (기본 배송지, 새 배송지)
   - 주문자 연락처 확인
   - 배송 요청사항 입력 (선택)

3. **결제 수단 선택 단계**
   - 결제 방법 선택 (신용카드, 계좌이체, 간편결제)
   - 할인 쿠폰 적용 (있는 경우)
   - 적립금 사용 여부 선택

4. **주문 확인 및 결제 단계**
   - 최종 주문 내역 확인
   - 개인정보 수집 및 이용 동의
   - 결제 진행 및 결과 처리

5. **주문 완료 단계**
   - 주문 번호 발급 및 표시
   - 주문 확인 이메일 발송
   - 주문 상세 페이지로 리다이렉트

#### 주문 정보
- **주문 기본 정보**: 주문 번호 자동 생성, 주문 일시
- **상품 정보**: 주문 상품 목록, 수량, 개별 가격
- **결제 정보**: 총 주문 금액, 할인 금액, 최종 결제 금액
- **배송 정보**: 배송지 주소, 연락처, 배송 요청사항
- **주문 상태**: 주문접수 → 결제완료 → 상품준비중 → 배송중 → 배송완료 → 주문취소/반품

### 3.3 결제 시스템
**기능 ID**: F203
**우선순위**: High
**설명**: 주문에 대한 결제를 처리하는 기능

#### 결제 수단
- 신용카드
- 계좌이체
- 간편결제 (카카오페이, 네이버페이 등)

#### 결제 프로세스
1. 결제 수단 선택
2. 결제 정보 입력
3. 결제 승인 요청
4. 결제 결과 처리
5. 주문 상태 업데이트

---

## 🔍 4. 검색 및 필터 시스템

### 4.1 통합 검색 기능
**기능 ID**: F301
**우선순위**: Medium
**설명**: 전체 상품에서 키워드 기반으로 검색하는 기능

#### 검색 기능
- **전체 검색**: 상품명, 설명, 카테고리에서 검색
- **정확도 순 정렬**: 검색 키워드 일치도 기반
- **검색 결과 하이라이팅**: 매칭된 키워드 강조

### 4.2 카테고리 필터
**기능 ID**: F302
**우선순위**: Medium
**설명**: 카테고리별로 상품을 분류하여 조회하는 기능

#### 카테고리 구조
```
여행상품
├── 국내여행
│   ├── 서울/경기
│   ├── 강원도
│   └── 제주도
└── 해외여행
    ├── 아시아
    ├── 유럽
    └── 미주
```

### 4.3 고급 필터링
**기능 ID**: F303
**우선순위**: Low
**설명**: 다양한 조건을 조합하여 상품을 필터링하는 기능

#### 필터 옵션
- 가격대: 슬라이더 UI로 범위 선택
- 여행 기간: 당일, 1박2일, 2박3일 등
- 테마: 가족여행, 커플여행, 혼행 등
- 평점: 4점 이상, 3점 이상 등

---

## 👤 5. 마이페이지 시스템

### 5.1 주문 내역 조회
**기능 ID**: F401
**우선순위**: High
**설명**: 사용자의 주문 이력을 조회하는 기능

#### 주문 내역 정보
- 주문 번호, 주문 날짜
- 주문 상품 목록
- 주문 금액, 결제 상태
- 배송 상태 및 배송 추적

#### 주문 관리 기능
- 주문 상세 조회
- 주문 취소 (배송 전)
- 리뷰 작성

### 5.2 개인정보 관리
**기능 ID**: F402
**우선순위**: Medium
**설명**: 사용자 개인정보를 수정하는 기능

#### 수정 가능 항목
- 이름, 전화번호, 주소
- 비밀번호 변경
- 이메일 변경 (인증 필요)

---

## 🔧 6. 관리자 시스템

### 6.1 대시보드
**기능 ID**: F501
**우선순위**: Medium
**설명**: 전체 시스템 현황을 조회하는 기능

#### 대시보드 정보
- 일일/월간 매출 현황
- 신규 회원 가입 수
- 주문 건수 및 상태
- 인기 상품 순위

### 6.2 사용자 관리
**기능 ID**: F502
**우선순위**: Medium
**설명**: 등록된 사용자를 관리하는 기능

#### 사용자 관리 기능
- 사용자 목록 조회
- 사용자 상세 정보 조회
- 계정 상태 관리 (활성/비활성)
- 권한 변경

### 6.3 주문 관리 및 상태 처리
**기능 ID**: F503
**우선순위**: High
**설명**: 주문을 관리하고 처리하는 기능

#### 주문 관리 기능
- **주문 목록 조회**: 전체 주문을 테이블 형태로 조회
  - 주문번호, 고객명, 주문상품, 주문금액, 주문일자, 현재상태
  - 상태별 필터링 (전체, 주문접수, 결제완료, 상품준비중, 배송중, 배송완료, 취소/반품)
  - 주문번호, 고객명, 상품명으로 검색 기능
  - 날짜 범위 검색 (오늘, 일주일, 한달, 직접입력)

- **주문 상세 조회**: 개별 주문의 모든 정보 확인
  - 주문 정보, 고객 정보, 상품 정보, 결제 정보, 배송 정보
  - 주문 진행 상태 타임라인 표시

#### 주문 상태 처리 시스템
- **주문접수**: 결제 완료된 주문이 시스템에 등록된 상태
- **결제완료**: 고객의 결제가 정상적으로 완료된 상태
- **상품준비중**: 주문 상품을 포장 및 발송 준비하는 상태
- **배송중**: 상품이 배송업체에 인계되어 고객에게 배송 중인 상태
- **배송완료**: 고객이 상품을 수령 완료한 상태
- **주문취소**: 고객 또는 관리자가 주문을 취소한 상태
- **반품**: 배송완료 후 고객이 상품을 반품한 상태

#### 상태 변경 기능
- **수동 상태 변경**: 관리자가 직접 주문 상태를 변경
  - 상태 변경 시 고객에게 SMS/이메일 알림 발송
  - 상태 변경 이력 및 사유 기록
- **일괄 상태 변경**: 여러 주문의 상태를 한번에 변경
- **자동 상태 변경**: 특정 조건 시 자동으로 상태 업데이트
  - 결제 완료 시 자동으로 '상품준비중'으로 변경
  - 배송업체 연동 시 배송 상태 자동 업데이트

#### 배송 및 취소 처리
- **배송 처리**: 배송업체 및 송장번호 입력, 고객에게 배송 알림
- **주문 취소 처리**: 취소 사유 입력, 환불 처리, 재고 복구
- **반품 처리**: 반품 사유 확인, 상품 상태 점검, 환불 또는 교환 처리

---

## 📱 7. 반응형 UI 요구사항

### 7.1 디바이스 지원
- **Desktop**: 1920px 이상
- **Tablet**: 768px ~ 1919px
- **Mobile**: 320px ~ 767px

### 7.2 UI 구성요소
- **Navigation**: 햄버거 메뉴 (Mobile), 상단 메뉴 (Desktop)
- **Product Grid**: 반응형 그리드 레이아웃
- **Touch Interface**: 모바일 터치 제스처 지원

---

## ✅ 비기능 요구사항

### 성능 요구사항
- **페이지 로딩 시간**: 3초 이내
- **동시 사용자**: 1000명 지원
- **가용성**: 99.9% 업타임

### 보안 요구사항
- **데이터 암호화**: HTTPS 통신
- **인증**: Session 기반 + CSRF 보호
- **개인정보**: GDPR 준수

### 호환성 요구사항
- **브라우저**: Chrome, Firefox, Safari, Edge 최신 2버전
- **운영체제**: Windows, macOS, Linux, iOS, Android

---

**문서 버전**: 1.0
**최종 검토**: 2025-09-16
**다음 리뷰 예정**: 2025-09-23